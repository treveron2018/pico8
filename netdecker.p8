pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
function _init()
	t=0
	p={
	x=24,
	y=48,
	ox=0,
	oy=0,
	_spr=49,
	ani={50,51,52,53,54,55}
	}
	_upd=update_game
	_drw=draw_game
end

function _update()
	t+=1
	_upd()
end

function _draw()
	cls()
	_drw()
end

function update_game()
	move_player()
end

function draw_game()
	map()
	draw_player()
end
-->8
--player functions

function move_player()
	if btnp(⬆️) then
		p.oy=-8
		_upd=update_pturn
	end
	if btnp(⬇️) then
		p.oy=8
		_upd=update_pturn
	end
	if btnp(⬅️) then 
		p.ox=-8
		_upd=update_pturn
	end
	if btnp(➡️) then
		p.ox=8
		_upd=update_pturn
	end
end

function draw_player()
	draw_spr(p.ani[get_frame(p.ani)],p.x,p.y,10)
end

function update_pturn()
	if p.ox<0 then
		p.ox+=2
		p.x-=2
	end
	if p.ox>0 then
		p.ox-=2
		p.x+=2
	end
	if p.oy<0 then
		p.oy+=2
		p.y-=2
	end
	if p.oy>0 then
		p.oy-=2
		p.y+=2
	end
	if(p.ox==0 and p.oy==0)_upd=update_game
end
-->8
--tools

function get_frame(ani)
	return flr(t/8)%#ani+1
end

function draw_spr(_spr,_x,_y,_c)
	palt(0,false)
	pal(6,_c)
	spr(_spr,_x,_y)
	pal()
	palt()
end
__gfx__
00000000666666606666666000000000aaaaaaa05555555000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000606060066666000000000000a000a000555550000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007006066606066660660000000000a000a000500050000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770006066606066000660000000000a000a000500050000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770006066606066066660000500000a000a000500050000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000606060000666660000000000aaaaa000500050000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666666606666666000000000aaaaaaa05555555000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00666000066666000066600000666000006660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06666600006660000600060006000600060006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00666000060006000600060006000600060006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06000600060006006666666066666660666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06000600666666606066606060666060606660600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666660606660600066600000666000006060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60666060006660000666660006606600066066000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00666000006660000066600000666000000000000066600000666000000000000000000000000000000000000000000000000000000000000000000000000000
06666600060006000660060006600600006660000660060006600600006660000000000000000000000000000000000000000000000000000000000000000000
00666000060006000660060066600600066006000660060006600660066006000000000000000000000000000000000000000000000000000000000000000000
06000600666666606666666066666660666006606666666066666660666006600000000000000000000000000000000000000000000000000000000000000000
06000600606660606066606000666060666666606066606060666000666666600000000000000000000000000000000000000000000000000000000000000000
66666660006060000060600000606600006660000060600006606000006660000000000000000000000000000000000000000000000000000000000000000000
60666060066066000660660006600000066066000660660000006600066066000000000000000000000000000000000000000000000000000000000000000000
__map__
0000010101010101010202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000010303030303010203030303040200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000010303030303010203030303030200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000010303030303030303030303030200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000010303030303030303030303030200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000010303030303010203030303030200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000010503030303010203030303030200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000010101010101010202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
